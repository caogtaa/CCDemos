[
  {
    "__type__": "cc.Material",
    "_name": "VMClassic",
    "_effectAsset": {
      "__uuid__": "93f5KGympPho0twpP6qZos"
    },
    "_techniqueData": {
      "0": {
        "props": {
          "texture": {
            "__uuid__": "79C8YJ7jRBnZC3oX32MH83"
          }
        }
      }
    }
  },
  {
    "__type__": "cc.SpriteFrame",
    "content": {
      "name": "freq",
      "texture": "a4AI8c23NLJLffVkDnPtV1",
      "rect": [
        0,
        0,
        256,
        70
      ],
      "offset": [
        0,
        0
      ],
      "originalSize": [
        256,
        70
      ],
      "capInsets": [
        0,
        0,
        0,
        0
      ]
    }
  },
  {
    "__type__": "cc.EffectAsset",
    "_name": "VMClassic",
    "techniques": [
      {
        "passes": [
          {
            "blendState": {
              "targets": [
                {
                  "blend": true
                }
              ]
            },
            "rasterizerState": {
              "cullMode": 0
            },
            "properties": {
              "texture": {
                "value": "white",
                "type": 29
              }
            },
            "program": "VMClassic|vs|fs"
          }
        ]
      }
    ],
    "shaders": [
      {
        "hash": 2756170360,
        "glsl3": {
          "vert": "\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\nin vec2 a_uv0;\nout vec2 v_uv0;\nvoid main() {\n  vec4 pos = vec4(a_position, 1);\n  pos = cc_matViewProj * pos;\n  v_uv0 = a_uv0;\n  v_color = a_color;\n  gl_Position = pos;\n}",
          "frag": "\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec4 v_color;\nin vec2 v_uv0;\nuniform sampler2D texture;\nvec3 hsv2rgb_smooth(in vec3 c) {\n  vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n  rgb = rgb*rgb*(3.0-2.0*rgb);\n  return c.z * mix(vec3(1.0), rgb, c.y);\n}\nvoid main()\n{\n  vec2 uv = v_uv0.xy;\n  vec4 col = texture(texture, uv) * v_color;\n  uv.y *= 1280./720.;\n  uv.y = uv.y * 2.0 - 1.0;\n  uv = uv * 1.1 - 0.05;\n  const vec2 grids = vec2(32., 38.);\n  vec2 guv = fract(uv * grids);\n  vec2 gi = floor(uv * grids);\n  float h = texture(texture, vec2(uv.x, 0.5)).r * 0.5;\n  float mask = step(abs(uv.y), floor(h * grids.y) / grids.y);\n  mask *= step(0., uv.x);\n  mask *= mix(0.2, 1.0, step(0.0, uv.y));\n  vec2 gap = vec2(0.5, 0.35);\n  gap = smoothstep(gap.xx, gap.yy, abs(guv - gap.xx));\n  mask = mask * gap.x * gap.y;\n  mask += smoothstep(0.55, 0.5, abs(uv.x - 0.5)) * 0.3;\n  vec3 hsl = vec3(uv.x, 1.0, 1.0-uv.y);\n  vec3 rgb_s = hsv2rgb_smooth(hsl);\n  rgb_s *= mask;\n  col = vec4(rgb_s, mask);\n  gl_FragColor = col;\n}"
        },
        "glsl1": {
          "vert": "\nprecision highp float;\nuniform mat4 cc_matViewProj;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\nvoid main() {\n  vec4 pos = vec4(a_position, 1);\n  pos = cc_matViewProj * pos;\n  v_uv0 = a_uv0;\n  v_color = a_color;\n  gl_Position = pos;\n}",
          "frag": "\nprecision highp float;\nvarying vec4 v_color;\nvarying vec2 v_uv0;\nuniform sampler2D texture;\nvec3 hsv2rgb_smooth(in vec3 c) {\n  vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n  rgb = rgb*rgb*(3.0-2.0*rgb);\n  return c.z * mix(vec3(1.0), rgb, c.y);\n}\nvoid main()\n{\n  vec2 uv = v_uv0.xy;\n  vec4 col = texture2D(texture, uv) * v_color;\n  uv.y *= 1280./720.;\n  uv.y = uv.y * 2.0 - 1.0;\n  uv = uv * 1.1 - 0.05;\n  const vec2 grids = vec2(32., 38.);\n  vec2 guv = fract(uv * grids);\n  vec2 gi = floor(uv * grids);\n  float h = texture2D(texture, vec2(uv.x, 0.5)).r * 0.5;\n  float mask = step(abs(uv.y), floor(h * grids.y) / grids.y);\n  mask *= step(0., uv.x);\n  mask *= mix(0.2, 1.0, step(0.0, uv.y));\n  vec2 gap = vec2(0.5, 0.35);\n  gap = smoothstep(gap.xx, gap.yy, abs(guv - gap.xx));\n  mask = mask * gap.x * gap.y;\n  mask += smoothstep(0.55, 0.5, abs(uv.x - 0.5)) * 0.3;\n  vec3 hsl = vec3(uv.x, 1.0, 1.0-uv.y);\n  vec3 rgb_s = hsv2rgb_smooth(hsl);\n  rgb_s *= mask;\n  col = vec4(rgb_s, mask);\n  gl_FragColor = col;\n}"
        },
        "builtins": {
          "globals": {
            "blocks": [
              {
                "name": "CCGlobal",
                "defines": []
              }
            ],
            "samplers": []
          },
          "locals": {
            "blocks": [
              {
                "name": "CCLocal",
                "defines": []
              }
            ],
            "samplers": []
          }
        },
        "defines": [],
        "blocks": [],
        "samplers": [
          {
            "name": "texture",
            "type": 29,
            "count": 1,
            "defines": [],
            "binding": 30
          }
        ],
        "record": null,
        "name": "VMClassic|vs|fs"
      }
    ]
  },
  {
    "__type__": "cc.AudioClip",
    "_name": "Unforgettable",
    "_native": ".mp3",
    "duration": 231.026939
  },
  [
    {
      "__type__": "cc.SceneAsset",
      "_name": "SceneVisualizeMusic",
      "scene": {
        "__id__": 1
      },
      "asyncLoadAssets": null
    },
    {
      "__type__": "cc.Scene",
      "_name": "New Node",
      "_children": [
        {
          "__id__": 2
        }
      ],
      "_anchorPoint": {
        "__type__": "cc.Vec2"
      },
      "_trs": {
        "__type__": "TypedArray",
        "ctor": "Float64Array",
        "array": [
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          1,
          1,
          1
        ]
      }
    },
    {
      "__type__": "cc.Node",
      "_name": "Canvas",
      "_parent": {
        "__id__": 1
      },
      "_children": [
        {
          "__id__": 3
        },
        {
          "__id__": 4
        },
        {
          "__id__": 6
        }
      ],
      "_components": [
        {
          "__type__": "cc.Canvas",
          "node": {
            "__id__": 2
          },
          "_designResolution": {
            "__type__": "cc.Size",
            "width": 720,
            "height": 1280
          }
        },
        {
          "__type__": "cc.Widget",
          "node": {
            "__id__": 2
          },
          "_alignFlags": 45,
          "_originalHeight": 1280
        },
        {
          "__type__": "66078LwZ6VOTp0Xu66oVwY9",
          "node": {
            "__id__": 2
          },
          "clip": {
            "__uuid__": "b93o/83whKzYKu67CnDFNF"
          },
          "sprite": {
            "__id__": 5
          }
        }
      ],
      "_contentSize": {
        "__type__": "cc.Size",
        "width": 720,
        "height": 1280
      },
      "_trs": {
        "__type__": "TypedArray",
        "ctor": "Float64Array",
        "array": [
          360,
          640,
          0,
          0,
          0,
          0,
          1,
          1,
          1,
          1
        ]
      },
      "_id": "a5esZu+45LA5mBpvttspPD"
    },
    {
      "__type__": "cc.Node",
      "_name": "Main Camera",
      "_parent": {
        "__id__": 2
      },
      "_components": [
        {
          "__type__": "cc.Camera",
          "node": {
            "__id__": 3
          },
          "_clearFlags": 7,
          "_depth": -1
        }
      ],
      "_contentSize": {
        "__type__": "cc.Size",
        "width": 720,
        "height": 1280
      },
      "_trs": {
        "__type__": "TypedArray",
        "ctor": "Float64Array",
        "array": [
          0,
          0,
          834.1127736043901,
          0,
          0,
          0,
          1,
          1,
          1,
          1
        ]
      }
    },
    {
      "__type__": "cc.Node",
      "_name": "sprite",
      "_parent": {
        "__id__": 2
      },
      "_components": [
        {
          "__id__": 5
        },
        {
          "__type__": "cc.Widget",
          "node": {
            "__id__": 4
          },
          "_left": 310,
          "_right": 310,
          "_top": 590,
          "_bottom": 590,
          "_originalWidth": 100,
          "_originalHeight": 100
        }
      ],
      "_contentSize": {
        "__type__": "cc.Size",
        "width": 720,
        "height": 1280
      },
      "_trs": {
        "__type__": "TypedArray",
        "ctor": "Float64Array",
        "array": [
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          1,
          -1,
          1
        ]
      }
    },
    {
      "__type__": "cc.Sprite",
      "node": {
        "__id__": 4
      },
      "_materials": [
        {
          "__uuid__": "57GlrkE6hElq4Dufq+Qtcr"
        }
      ],
      "_spriteFrame": {
        "__uuid__": "90HlUnhaRDOKkSKRwYY7C+"
      },
      "_sizeMode": 0
    },
    {
      "__type__": "cc.Node",
      "_name": "spriteTest",
      "_parent": {
        "__id__": 2
      },
      "_active": false,
      "_components": [
        {
          "__type__": "cc.Sprite",
          "node": {
            "__id__": 6
          },
          "_materials": [
            {
              "__uuid__": "57GlrkE6hElq4Dufq+Qtcr"
            }
          ],
          "_spriteFrame": {
            "__uuid__": "90HlUnhaRDOKkSKRwYY7C+"
          },
          "_sizeMode": 0
        },
        {
          "__type__": "cc.Widget",
          "node": {
            "__id__": 6
          },
          "_alignFlags": 45,
          "_originalWidth": 100,
          "_originalHeight": 100
        }
      ],
      "_contentSize": {
        "__type__": "cc.Size",
        "width": 720,
        "height": 1280
      },
      "_trs": {
        "__type__": "TypedArray",
        "ctor": "Float64Array",
        "array": [
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          1,
          -1,
          1
        ]
      }
    }
  ]
]