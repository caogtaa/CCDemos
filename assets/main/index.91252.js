window.__require=function t(e,r,o){function n(a,c){if(!r[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!c&&p)return p(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=r[a]={exports:{}};e[a][0].call(u.exports,function(t){return n(e[a][1][t]||t)},u,u.exports,t,e,r,o)}return r[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AvatarAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"45279iUvaxDYLwEzo4OPRTm","AvatarAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=t("../../../../Shader/GTAutoFitSpriteAssembler2D"),i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:"a_p",type:i.ATTR_TYPE_FLOAT32,num:2},{name:"a_q",type:i.ATTR_TYPE_FLOAT32,num:2}]),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.floatsPerVert=8,e}return o(e,t),e.prototype.initData=function(){var t=this._renderData;t.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var e=t.iDatas[0],r=e.length/6,o=0,n=0;o<r;o++){var i=4*o;e[n++]=i,e[n++]=i+1,e[n++]=i+2,e[n++]=i+1,e[n++]=i+3,e[n++]=i+2}},e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.updateColor=function(t,e){},e.prototype.updateUVs=function(e){t.prototype.updateUVs.call(this,e);var r=this._uv,o=e._spriteFrame.isRotated(),n=r[0],i=r[2],a=r[1],c=r[5];o&&(n=r[1],i=r[3],a=r[0],c=r[4]);for(var s=1/(i-n),p=-n*s,u=1/(a-c),l=-c*u,f=this.uvOffset,h=this.floatsPerVert,_=this._renderData.vDatas[0],d=0;d<4;d++){var y=h*d+f;o?(_[y+2]=u,_[y+3]=s,_[y+4]=l,_[y+5]=p):(_[y+2]=s,_[y+3]=u,_[y+4]=p,_[y+5]=l)}},e}(n.default);r.default=c,cc._RF.pop()},{"../../../../Shader/GTAutoFitSpriteAssembler2D":"GTAutoFitSpriteAssembler2D"}],AvatarSprite:[function(t,e,r){"use strict";cc._RF.push(e,"b1649Wc9Q1OSLLcuayZnPTw","AvatarSprite");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./AvatarAssembler"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new i.default).init(this)},e=n([c],e)}(cc.Sprite));r.default=s,cc._RF.pop()},{"./AvatarAssembler":"AvatarAssembler"}],EqualScalingAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"e54e38Lmk1LtatjNGNMggDD","EqualScalingAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._uv=[],e}return o(e,t),e.prototype.updateUVs=function(e){var r=e._spriteFrame.getRect(),o=e.node;if(r.width&&r.height&&o.width&&o.height){Object.assign(this._uv,e._spriteFrame.uv);var n=this._uv,i=r.width/o.width,a=r.height/o.height,c=1;if(i>a){c=a/i;var s=n[0+(f=e._spriteFrame.isRotated()?1:0)],p=n[2+f],u=.5*(s+p),l=.5*(p-s)*c;n[0+f]=n[4+f]=u-l,n[2+f]=n[6+f]=u+l}else{c=i/a;var f,h=n[1+(f=e._spriteFrame.isRotated()?-1:0)],_=n[5+f];u=.5*(h+_),l=.5*(h-_)*c;n[1+f]=n[3+f]=u+l,n[5+f]=n[7+f]=u-l}for(var d=this.uvOffset,y=this.floatsPerVert,v=this._renderData.vDatas[0],m=0;m<4;m++){var g=2*m,b=y*m+d;v[b]=n[g],v[b+1]=n[g+1]}}else t.prototype.updateUVs.call(this,e)},e}(t("../../../../Shader/GTSimpleSpriteAssembler2D").default);r.default=n,cc._RF.pop()},{"../../../../Shader/GTSimpleSpriteAssembler2D":"GTSimpleSpriteAssembler2D"}],EqualScalingSprite:[function(t,e,r){"use strict";cc._RF.push(e,"8b22518JLpEu6AXif9T1DNt","EqualScalingSprite");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./EqualScalingAssembler"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new i.default).init(this)},e=n([c],e)}(cc.Sprite));r.default=s,cc._RF.pop()},{"./EqualScalingAssembler":"EqualScalingAssembler"}],GTAssembler2D:[function(t,e,r){"use strict";cc._RF.push(e,"ec2e84JLsNF8Z3zxl9otwbJ","GTAssembler2D");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e}return o(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this._renderData=new cc.RenderData,this._renderData.init(this),this.initLocal(),this.initData()},Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var r=this._renderData.uintVDatas[0];if(r){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,n=this.colorOffset,i=r.length;n<i;n+=o)r[n]=e}},e.prototype.getBuffer=function(){return cc.renderer._handle._meshBuffer},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateWorldVertsWebGL=function(t){var e=this._local,r=this._renderData.vDatas[0],o=t.node._worldMatrix.m,n=o[0],i=o[1],a=o[4],c=o[5],s=o[12],p=o[13],u=e[0],l=e[2],f=e[1],h=e[3],_=1===n&&0===i&&0===a&&1===c,d=0,y=this.floatsPerVert;if(_)r[d]=u+s,r[d+1]=f+p,r[d+=y]=l+s,r[d+1]=f+p,r[d+=y]=u+s,r[d+1]=h+p,r[d+=y]=l+s,r[d+1]=h+p;else{var v=n*u,m=n*l,g=i*u,b=i*l,O=a*f,S=a*h,R=c*f,P=c*h;r[d]=v+O+s,r[d+1]=g+R+p,r[d+=y]=m+O+s,r[d+1]=b+R+p,r[d+=y]=v+S+s,r[d+1]=g+P+p,r[d+=y]=m+S+s,r[d+1]=b+P+p}},e.prototype.updateWorldVertsNative=function(t){var e=this._local,r=this._renderData.vDatas[0],o=this.floatsPerVert,n=e[0],i=e[2],a=e[1],c=e[3],s=0;r[s]=n,r[s+1]=a,r[s+=o]=i,r[s+1]=a,r[s+=o]=n,r[s+1]=c,r[s+=o]=i,r[s+1]=c},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var r=this._renderData,o=r.vDatas[0],n=r.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),c=a.byteOffset>>2,s=i._vData;o.length+c>s.length?s.set(o.subarray(0,s.length-c),c):s.set(o,c);for(var p=i._iData,u=a.indiceOffset,l=a.vertexOffset,f=0,h=n.length;f<h;f++)p[u++]=l+n[f]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var r=cc.dynamicAtlasManager.insertSpriteFrame(e);r&&e._setDynamicAtlasFrame(r)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e.prototype.updateUVs=function(t){for(var e=[0,0,1,0,0,1,1,1],r=this.uvOffset,o=this.floatsPerVert,n=this._renderData.vDatas[0],i=0;i<4;i++){var a=2*i,c=o*i+r;n[c]=e[a],n[c+1]=e[a+1]}},e.prototype.updateVerts=function(t){var e,r,o,n,i=t.node,a=i.width,c=i.height,s=i.anchorX*a,p=i.anchorY*c;e=-s,r=-p,o=a-s,n=c-p;var u=this._local;u[0]=e,u[1]=r,u[2]=o,u[3]=n,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e}(cc.Assembler);r.default=n,cc._RF.pop()},{}],GTAutoFitSpriteAssembler2D:[function(t,e,r){"use strict";cc._RF.push(e,"df6cf6PM09M+rsn47qcGazx","GTAutoFitSpriteAssembler2D");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._uv=[],e}return o(e,t),e.prototype.updateUVs=function(e){var r=e._spriteFrame.getRect(),o=e.node;if(r.width&&r.height&&o.width&&o.height){Object.assign(this._uv,e._spriteFrame.uv);var n=this._uv,i=r.width/o.width,a=r.height/o.height,c=e._spriteFrame.isRotated(),s=n[0],p=n[2],u=n[1],l=n[5];if(c&&(s=n[1],p=n[3],u=n[0],l=n[4]),i>a){var f=.5*(s+p),h=.5*(p-s)*(a/i);s=n[0+(_=c?1:0)]=n[4+_]=f-h,p=n[2+_]=n[6+_]=f+h}else{var _;f=.5*(u+l),h=.5*(u-l)*(i/a);u=n[1+(_=c?-1:0)]=n[3+_]=f+h,l=n[5+_]=n[7+_]=f-h}for(var d=this.uvOffset,y=this.floatsPerVert,v=this._renderData.vDatas[0],m=0;m<4;m++){var g=2*m,b=y*m+d;v[b]=n[g],v[b+1]=n[g+1]}}else t.prototype.updateUVs.call(this,e)},e}(t("./GTSimpleSpriteAssembler2D").default);r.default=n,cc._RF.pop()},{"./GTSimpleSpriteAssembler2D":"GTSimpleSpriteAssembler2D"}],GTSimpleSpriteAssembler2D:[function(t,e,r){"use strict";cc._RF.push(e,"3cf56xQ2eRKRpc+4MgUs5BS","GTSimpleSpriteAssembler2D");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateRenderData=function(e){this.packToDynamicAtlas(e,e._spriteFrame),t.prototype.updateRenderData.call(this,e)},e.prototype.updateUVs=function(t){for(var e=t._spriteFrame.uv,r=this.uvOffset,o=this.floatsPerVert,n=this._renderData.vDatas[0],i=0;i<4;i++){var a=2*i,c=o*i+r;n[c]=e[a],n[c+1]=e[a+1]}},e.prototype.updateVerts=function(t){var e,r,o,n,i=t.node,a=i.width,c=i.height,s=i.anchorX*a,p=i.anchorY*c;if(t.trim)e=-s,r=-p,o=a-s,n=c-p;else{var u=t.spriteFrame,l=u._originalSize.width,f=u._originalSize.height,h=u._rect.width,_=u._rect.height,d=u._offset,y=a/l,v=c/f,m=d.x+(l-h)/2,g=d.x-(l-h)/2;e=m*y-s,r=(d.y+(f-_)/2)*v-p,o=a+g*y-s,n=c+(d.y-(f-_)/2)*v-p}var b=this._local;b[0]=e,b[1]=r,b[2]=o,b[3]=n,this.updateWorldVerts(t)},e}(t("./GTAssembler2D").default);r.default=n,cc._RF.pop()},{"./GTAssembler2D":"GTAssembler2D"}],LayeredBatchingAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"9b7db/QlVpNR6BkHD3PCH0u","LayeredBatchingAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=t("../../Shader/GTSimpleSpriteAssembler2D"),i=cc.RenderFlow.FLAG_RENDER|cc.RenderFlow.FLAG_POST_RENDER,a=cc.RenderFlow.FLAG_OPACITY|cc.RenderFlow.FLAG_WORLD_TRANSFORM,c=!0,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.fillBuffers=function(e,r){if(t.prototype.fillBuffers.call(this,e,r),c){var o=[];this._layers=[o];var n=(r.worldMatDirty?cc.RenderFlow.FLAG_WORLD_TRANSFORM:0)|(r.parentOpacityDirty?cc.RenderFlow.FLAG_OPACITY_COLOR:0);e.node.__gtDirtyFlag=n;var s=[];s.push(e.node);for(var p,u=1,l=0;l<s.length;){var f=s[l++];n=f.__gtDirtyFlag;for(var h=0,_=f.children;h<_.length;h++){var d=_[h];d._activeInHierarchy&&0!==d._opacity&&((p=d._renderFlag&i)>0&&(d.__gtRenderFlag=p,d._renderFlag&=~p,o.push(d)),d.__gtDirtyFlag=n|d._renderFlag&a,s.push(d))}l==u&&(0,u=s.length,o=[],this._layers.push(o))}}},e.prototype.postFillBuffers=function(t,e){var r=e.worldMatDirty;if(c&&this._layers){var o,n;c=!1;for(var i=0,a=this._layers;i<a.length;i++){var s=a[i];if(0!=s.length)for(var p=0,u=s;p<u.length;p++){var l=u[p];o=l.__gtRenderFlag,n=l.__gtDirtyFlag,e.worldMatDirty=n>0?1:0,l._renderFlag|=o,cc.RenderFlow.flows[o]._func(l)}}this._layers=null,c=!0,e.worldMatDirty=r}},e}(n.default);r.default=s,cc._RF.pop()},{"../../Shader/GTSimpleSpriteAssembler2D":"GTSimpleSpriteAssembler2D"}],LayeredBatchingRootRenderer:[function(t,e,r){"use strict";cc._RF.push(e,"7e264FDcplMY5rNb2sCjRtf","LayeredBatchingRootRenderer");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./LayeredBatchingAssembler"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.node._renderFlag|=cc.RenderFlow.FLAG_POST_RENDER},e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new i.default).init(this)},e=n([c],e)}(cc.Sprite));r.default=s,cc._RF.pop()},{"./LayeredBatchingAssembler":"LayeredBatchingAssembler"}],MetaBallsAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"a8beeORb6JL3b0pL3OhMdkI","MetaBallsAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=cc.gfx,i=new n.VertexFormat([{name:n.ATTR_POSITION,type:n.ATTR_TYPE_FLOAT32,num:2},{name:"a_center",type:n.ATTR_TYPE_FLOAT32,num:2}]),a=(new n.VertexFormat([{name:n.ATTR_POSITION,type:n.ATTR_TYPE_FLOAT32,num:2},{name:"a_corner",type:n.ATTR_TYPE_FLOAT32,num:2},{name:"a_center",type:n.ATTR_TYPE_FLOAT32,num:2}]),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.verticesCount=0,e.indicesCount=0,e.floatsPerVert=4,e._renderData=null,e._prevVerticesCount=0,e}return o(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this._renderData=new cc.RenderData,this._renderData.init(this)},e.prototype.updateColor=function(t,e){},e.prototype.updateUVs=function(t){},e.prototype.updateVerts=function(t){},e.prototype.updateRenderData=function(t){},e.prototype.getVfmt=function(){return i},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.fillBuffers=function(t,e){var r=this.particles,o=null===r||void 0===r?void 0:r.GetParticleCount();if(o){for(var n=4*o,i=6*o,a=cc.PhysicsManager.PTM_RATIO,c=r.GetPositionBuffer(),s=r.GetRadius()*a*3,p=this.getBuffer(),u=p.request(n,i),l=u.byteOffset>>2,f=p._vData,h=0;h<o;++h){var _=c[h].x*a,d=c[h].y*a;f[l++]=_-s,f[l++]=d+s,f[l++]=_,f[l++]=d,f[l++]=_+s,f[l++]=d+s,f[l++]=_,f[l++]=d,f[l++]=_-s,f[l++]=d-s,f[l++]=_,f[l++]=d,f[l++]=_+s,f[l++]=d-s,f[l++]=_,f[l++]=d}var y=p._iData,v=u.indiceOffset,m=u.vertexOffset;for(h=0;h<o;++h)y[v++]=m,y[v++]=m+1,y[v++]=m+2,y[v++]=m+1,y[v++]=m+3,y[v++]=m+2,m+=4}},e}(cc.Assembler));r.default=a,cc._RF.pop()},{}],MetaBallsRenderer:[function(t,e,r){"use strict";cc._RF.push(e,"db62dHiyKNNZJwjNHybzvIL","MetaBallsRenderer");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./MetaBallsAssembler"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.materialWeb=null,e.materialNative=null,e}return o(e,t),e.prototype.onLoad=function(){this.materialWeb&&this.setMaterial(0,this.materialWeb)},e.prototype.SetParticles=function(t){this._assembler.particles=t;var e=this.getMaterial(0);if(t&&e){var r=cc.PhysicsManager.PTM_RATIO;e.setProperty("offset",[0,0]),e.setProperty("radius",t.GetRadius()*r/this.node.width),e.setProperty("yratio",this.node.height/this.node.width),e.setProperty("reverseRes",[1/this.node.width,1/this.node.height])}this.setVertsDirty()},e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new i.default).init(this)},e.prototype.update=function(){this.setVertsDirty()},n([s(cc.Material)],e.prototype,"materialWeb",void 0),n([s(cc.Material)],e.prototype,"materialNative",void 0),e=n([c],e)}(cc.Sprite);r.default=p,cc._RF.pop()},{"./MetaBallsAssembler":"MetaBallsAssembler"}],MovingBGAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"e1c35wY/WtDI4NVp88fW7Kq","MovingBGAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=t("../../../../Shader/GTSimpleSpriteAssembler2D"),i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV1,type:i.ATTR_TYPE_FLOAT32,num:2},{name:"a_p",type:i.ATTR_TYPE_FLOAT32,num:2},{name:"a_q",type:i.ATTR_TYPE_FLOAT32,num:2}]),c=cc.Vec2.ZERO,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.verticesCount=4,e.indicesCount=6,e.uvOffset=2,e.uv1Offset=4,e.uv2Offset=6,e.uv3Offset=8,e.floatsPerVert=10,e.moveSpeed=c,e}return o(e,t),e.prototype.initData=function(){var t=this._renderData;t.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var e=t.iDatas[0],r=e.length/6,o=0,n=0;o<r;o++){var i=4*o;e[n++]=i,e[n++]=i+1,e[n++]=i+2,e[n++]=i+1,e[n++]=i+3,e[n++]=i+2}},e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.updateColor=function(t,e){},e.prototype.updateUVs=function(e){t.prototype.updateUVs.call(this,e);for(var r,o=e._spriteFrame.uv,n=this.uvOffset,i=this.floatsPerVert,a=this._renderData.vDatas[0],c=o[0],s=o[2],p=o[5],u=1/(s-c),l=-c*u,f=1/(o[1]-p),h=-p*f,_=this.moveSpeed.x,d=this.moveSpeed.y,y=0;y<4;++y)a[(r=i*y+n)+2]=_,a[r+3]=d,a[r+4]=u,a[r+5]=f,a[r+6]=l,a[r+7]=h},e}(n.default);r.default=s,cc._RF.pop()},{"../../../../Shader/GTSimpleSpriteAssembler2D":"GTSimpleSpriteAssembler2D"}],MovingBGSprite:[function(t,e,r){"use strict";cc._RF.push(e,"d6bb3Z+1ARGDapKZIvBpCUs","MovingBGSprite");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./MovingBGAssembler"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._moveSpeed=cc.Vec2.ZERO,e}return o(e,t),Object.defineProperty(e.prototype,"moveSpeed",{get:function(){return this._moveSpeed},set:function(t){this._moveSpeed=t,this.FlushProperties()},enumerable:!1,configurable:!0}),e.prototype.FlushProperties=function(){var t=this._assembler;t&&(t.moveSpeed=this._moveSpeed,this.setVertsDirty())},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype._resetAssembler=function(){this.setVertsDirty();var t=this._assembler=new i.default;this.FlushProperties(),t.init(this),this._updateColor()},n([s(cc.Vec2)],e.prototype,"moveSpeed",null),n([s(cc.Vec2)],e.prototype,"_moveSpeed",void 0),e=n([c],e)}(cc.Sprite);r.default=p,cc._RF.pop()},{"./MovingBGAssembler":"MovingBGAssembler"}],NavigatorButton:[function(t,e,r){"use strict";cc._RF.push(e,"58a22OqN5RI3plga6Z+CurZ","NavigatorButton");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneName="SceneWelcome",e}return o(e,t),e.prototype.onLoad=function(){var t=this.sceneName;this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.director.loadScene(t)})},n([c(cc.String)],e.prototype,"sceneName",void 0),e=n([a],e)}(cc.Component);r.default=s,cc._RF.pop()},{}],SDF:[function(t,e,r){"use strict";cc._RF.push(e,"1e2f95PbDZFV6QUVq6SCXs6","SDF"),Object.defineProperty(r,"__esModule",{value:!0}),r.SDF=void 0;var o=function(){function t(){}return t.prototype.RenderToMemory=function(t,e,r,o){void 0===o&&(o=0);var n=new cc.Node;n.parent=t,n.x=(.5-t.anchorX)*t.width,n.y=(.5-t.anchorY)*t.height;var i=n.addComponent(cc.Camera);i.backgroundColor=new cc.Color(255,255,255,0),i.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,i.cullingMask=4294967295;var a=!1;try{var c=cc.game._renderContext,s=Math.floor(1*t.width+2*o),p=Math.floor(1*t.height+2*o),u=r.__gt_texture;if(u&&u.width==s&&u.height==r.height||((u=r.__gt_texture=new cc.RenderTexture).initWithSize(s,p,c.STENCIL_INDEX8),u.packable=!1),i.alignWithScreen=!1,i.orthoSize=p/2,i.targetTexture=u,i.render(t),e)for(var l=0,f=e;l<f.length;l++){var h=f[l];i.render(h)}var _=r;_.active=!0,_.opacity=255,_.width=s,_.height=p,_.angle=t.angle,_.scaleX=1,_.scaleY=-1;var d=_.getComponent(cc.Sprite);d||(d=_.addComponent(cc.Sprite)),d.spriteFrame||(d.sizeMode=cc.Sprite.SizeMode.CUSTOM,d.spriteFrame=new cc.SpriteFrame(u)),a=!0}finally{i.targetTexture=null,n.removeFromParent(),a||(r.active=!1)}return r.__gt_texture},t.prototype.RenderSDF=function(t,e,r){var o=t.readPixels(),n=t.width,i=t.height;void 0===r&&(r=0),e=e||this.radius||18;var a=n*i,c=Math.max(n,i);this.gridOuter=new Float64Array(a),this.gridInner=new Float64Array(a),this.f=new Float64Array(c),this.d=new Float64Array(c),this.z=new Float64Array(c+1),this.v=new Int16Array(c);for(var s=new Uint8ClampedArray(a),p=0;p<a;p++){var u=o[4*p+3]/255;this.gridOuter[p]=1===u?0:0===u?1e10:Math.pow(Math.max(0,.5-u),2),this.gridInner[p]=1===u?1e10:0===u?0:Math.pow(Math.max(0,u-.5),2)}for(this.EDT(this.gridOuter,n,i,this.f,this.d,this.v,this.z),this.EDT(this.gridInner,n,i,this.f,this.d,this.v,this.z),p=0;p<a;p++){var l=this.gridOuter[p]-this.gridInner[p];s[p]=Math.max(0,Math.min(255,Math.round(255-255*(l/e+r)))),o[4*p+3]=s[p]}var f=new cc.RenderTexture;return f.initWithData(o,cc.Texture2D.PixelFormat.RGBA8888,n,i),{texture:f,alpha:s}},t.prototype.EDT=function(t,e,r,o,n,i,a){for(var c=0;c<e;c++){for(var s=0;s<r;s++)o[s]=t[s*e+c];for(this.EDT1D(o,n,i,a,r),s=0;s<r;s++)t[s*e+c]=n[s]}for(s=0;s<r;s++){for(c=0;c<e;c++)o[c]=t[s*e+c];for(this.EDT1D(o,n,i,a,e),c=0;c<e;c++)t[s*e+c]=Math.sqrt(n[c])}},t.prototype.EDT1D=function(t,e,r,o,n){r[0]=0,o[0]=-1e10,o[1]=1e10;for(var i=1,a=0;i<n;i++){for(var c=(t[i]+i*i-(t[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);c<=o[a];)a--,c=(t[i]+i*i-(t[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);r[++a]=i,o[a]=c,o[a+1]=1e10}for(i=0,a=0;i<n;i++){for(;o[a+1]<i;)a++;e[i]=(i-r[a])*(i-r[a])+t[r[a]]}},t}();r.SDF=o,cc._RF.pop()},{}],SceneLayeredBatchingScrollView:[function(t,e,r){"use strict";cc._RF.push(e,"a8e90q5ybRNipx0efwIGCPq","SceneLayeredBatchingScrollView");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){for(var t=0;t<100;++t){cc.instantiate(this.item).parent=this.content}},n([c(cc.Node)],e.prototype,"item",void 0),n([c(cc.Node)],e.prototype,"content",void 0),e=n([a],e)}(cc.Component);r.default=s,cc._RF.pop()},{}],SceneMetaBalls:[function(t,e,r){"use strict";cc._RF.push(e,"5d511arYq1Fy75gm6m2P7X0","SceneMetaBalls");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./Shader/MetaBalls/MetaBallsRenderer"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waterRendererCamera=null,e.waterRenderer=null,e.waterRendererPass2=null,e.metaBallsRenderer=null,e.particleBox=null,e._world=null,e._particles=null,e._particleGroup=null,e}return o(e,t),e.prototype.onLoad=function(){this.SetupWorld();var t=new cc.RenderTexture,e=this.waterRendererPass2.node.getContentSize();t.initWithSize(e.width,e.height);var r=new cc.SpriteFrame;r.setTexture(t),this.waterRendererCamera.targetTexture=t,this.waterRendererPass2.spriteFrame=r},e.prototype.SetupWorld=function(){var t=cc.director.getPhysicsManager();t.enabled=!0;var e=this._world=t._world,r=new b2.ParticleSystemDef;r.radius=.35,r.viscousStrength=0,this._particles=e.CreateParticleSystem(r)},e.prototype.CreateParticlesGroup=function(){var t=cc.PhysicsManager.PTM_RATIO,e=this.particleBox.getContentSize(),r=this.particleBox.getPosition(),o=cc.winSize,n=new b2.PolygonShape;n.SetAsBox(e.width/2/t,e.height/2/t);var i=new b2.ParticleGroupDef;i.shape=n,i.flags=b2.waterParticle,i.position.Set((r.x+o.width/2)/t,(r.y+o.height/2)/t),this._particleGroup=this._particles.CreateParticleGroup(i),this.metaBallsRenderer.SetParticles(this._particles);var a=this._particles.GetParticleCount();console.log(a)},e.prototype.GenerateWater=function(){this.ResetParticleGroup();var t=this;cc.director.getScheduler().schedule(function(){t.CreateParticlesGroup()},this.node,0,0,0,!1)},e.prototype.ResetParticleGroup=function(){null!=this._particleGroup&&(this._particleGroup.DestroyParticles(!1),this._particles.DestroyParticleGroup(this._particleGroup),this._particleGroup=null)},n([s(cc.Camera)],e.prototype,"waterRendererCamera",void 0),n([s(cc.Node)],e.prototype,"waterRenderer",void 0),n([s(cc.Sprite)],e.prototype,"waterRendererPass2",void 0),n([s(i.default)],e.prototype,"metaBallsRenderer",void 0),n([s(cc.Node)],e.prototype,"particleBox",void 0),e=n([c],e)}(cc.Component);r.default=p;cc.game.once(cc.game.EVENT_ENGINE_INITED,function(){b2.ParticleSystem.prototype.FindContacts_Reference=function(t){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;var e=this.m_positionBuffer.data,r=this.m_squaredDiameter,o=this.m_inverseDiameter,n=this.m_proxyBuffer.count;this.m_contactBuffer.count=0;for(var i,a,c,s,p,u=this.m_proxyBuffer.data,l=b2.ParticleSystem.computeRelativeTag,f=0,h=0,_=0,d=(e=this.m_positionBuffer.data,this.m_flagsBuffer.data),y=0,v=0,m=0,g=0,b=0,O=0,S=0,R=0,P=0,A=0,T=isFinite,D=0,F=0;D<n;++D){f=(i=u[D]).tag,s=e[h=i.index],c=d[h],_=l(f,1,0);for(var w=D+1;w<n&&!(_<(a=u[w]).tag);++w){g=(p=e[y=a.index]).x,b=p.y,v=s.x,m=s.y,(R=(O=g-v)*O+(S=b-m)*S)<r&&(T(M=1/Math.sqrt(R))||(M=198177537e11),(j=this.m_contactBuffer.data[this.m_contactBuffer.Append()]).indexA=h,j.indexB=y,j.flags=c|d[y],j.weight=1-R*M*o,j.normal.x=M*O,j.normal.y=M*S)}for(P=l(f,-1,1);F<n&&!(P<=u[F].tag);++F);A=l(f,1,1);for(w=F;w<n&&!(A<(a=u[w]).tag);++w){var M,j;g=(p=e[y=a.index]).x,b=p.y,v=s.x,m=s.y,(R=(O=g-v)*O+(S=b-m)*S)<r&&(T(M=1/Math.sqrt(R))||(M=198177537e11),(j=this.m_contactBuffer.data[this.m_contactBuffer.Append()]).indexA=h,j.indexB=y,j.flags=c|d[y],j.weight=1-R*M*o,j.normal.x=M*O,j.normal.y=M*S)}}}}),cc._RF.pop()},{"./Shader/MetaBalls/MetaBallsRenderer":"MetaBallsRenderer"}],SceneParticlesBatching:[function(t,e,r){"use strict";cc._RF.push(e,"3a49bFsWhtOtpWG6esCYAJR","SceneParticlesBatching");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._originFillBuffersFn=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.Batching=function(){if(!this._originFillBuffersFn){var t=cc.ParticleSystem.__assembler__;this._originFillBuffersFn=t.prototype.fillBuffers,t.prototype.fillBuffers=function(t,e){if(this._ia){var r=t._simulator.particles.length;if(0!==r){var o=cc.ParticleSystem.PositionType;t.positionType===o.RELATIVE?e.node=t.node.parent:e.node=t.node;var n=this.getBuffer(),i=cc.renderer._handle._meshBuffer,a=i.request(4*r,6*r),c=a.byteOffset>>2,s=i._vData,p=n._vData,u=n._iData,l=4*r*5;l+c>s.length?s.set(p.subarray(0,s.length-c),c):s.set(p.subarray(0,l),c);for(var f=i._iData,h=a.indiceOffset,_=a.vertexOffset,d=6*r,y=0;y<d;y++)f[h++]=_+u[y]}}}}},e.prototype.Recover=function(){this._originFillBuffersFn&&(cc.ParticleSystem.__assembler__.prototype.fillBuffers=this._originFillBuffersFn,this._originFillBuffersFn=null)},e.prototype.onDisable=function(){this.Recover()},e=n([a],e)}(cc.Component));r.default=c,cc._RF.pop()},{}],SceneSDF:[function(t,e,r){"use strict";cc._RF.push(e,"c0baeCexs1O36cWxtIx48zu","SceneSDF");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0}),r.TestSDF=void 0;var i=t("./SDF"),a=cc._decorator,c=a.ccclass,s=(a.menu,a.property),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderNode=null,e.objNode=null,e.btnSwitchImage=null,e.btnSwitchEffect=null,e.images=[],e.materials=[],e._imageIndex=0,e._effectIndex=0,e}return o(e,t),e.prototype.onLoad=function(){var t,e;null===(t=this.btnSwitchImage)||void 0===t||t.on("click",this.NextImage,this),null===(e=this.btnSwitchEffect)||void 0===e||e.on("click",this.NextEffect,this)},e.prototype.start=function(){this._sdf=new i.SDF,this._imageIndex=-1,this.NextImage()},e.prototype.NextImage=function(){var t=this._imageIndex=(this._imageIndex+1)%this.images.length,e=this.images[t],r=e.getOriginalSize();this.objNode.getComponent(cc.Sprite).spriteFrame=e,this.renderNode.width=this.objNode.width=r.width,this.renderNode.height=this.objNode.height=r.height;var o=Math.max(60,r.height/3),n=this._sdf.RenderToMemory(this.objNode,null,this.renderNode,.5*o),i=this._sdf.RenderSDF(n,o,.5),a=this.renderNode.getComponent(cc.Sprite);a.spriteFrame=new cc.SpriteFrame(i.texture),this.FlushMatProperties(a,o,cc.size(n.width,n.height))},e.prototype.FlushMatProperties=function(t,e,r){if(2===this._effectIndex){var o=t.getMaterial(0);o.setProperty("yRatio",r.height/r.width),o.setProperty("sdfRatio",2*e/r.width),o.setProperty("outlineHalfWidth",3/e)}},e.prototype.NextEffect=function(){var t=this._effectIndex=(this._effectIndex+1)%this.materials.length,e=this.materials[t],r=this.renderNode.getComponent(cc.Sprite);r.setMaterial(0,e);var o=r.spriteFrame.getOriginalSize(),n=Math.max(60,o.height/3);this.FlushMatProperties(r,n,o)},e.prototype.OnTimeChanged=function(t){var e=t.progress;this.renderNode.getComponent(cc.Sprite).getMaterial(0).setProperty("time",3.141592653589793*e*2)},n([s(cc.Node)],e.prototype,"renderNode",void 0),n([s(cc.Node)],e.prototype,"objNode",void 0),n([s(cc.Node)],e.prototype,"btnSwitchImage",void 0),n([s(cc.Node)],e.prototype,"btnSwitchEffect",void 0),n([s([cc.SpriteFrame])],e.prototype,"images",void 0),n([s([cc.Material])],e.prototype,"materials",void 0),e=n([c],e)}(cc.Component);r.TestSDF=p,cc._RF.pop()},{"./SDF":"SDF"}],SceneSpriteMaskedAvatars:[function(t,e,r){"use strict";cc._RF.push(e,"e358arsN59DbZ0N3kUBhrCb","SceneSpriteMaskedAvatars");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./Shader/SpriteMaskedAvatar/SpriteMaskedAvatarSprite"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.board=null,e._enableMask=!0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onToggleMask=function(){for(var t=this._enableMask=!this._enableMask,e=0,r=this.board.children;e<r.length;e++){r[e].getComponent(i.default).enableMask=t}},n([s(cc.Node)],e.prototype,"board",void 0),e=n([c],e)}(cc.Component);r.default=p,cc._RF.pop()},{"./Shader/SpriteMaskedAvatar/SpriteMaskedAvatarSprite":"SpriteMaskedAvatarSprite"}],SceneTestGraphics:[function(t,e,r){"use strict";cc._RF.push(e,"7ec6envootE0LqAVSRT/P5s","SceneTestGraphics");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this.graphics;t.clear(),t.strokeColor=cc.Color.BLACK,t.fillColor=cc.Color.RED,t.lineWidth=5,t.moveTo(0,0),t.lineTo(100,100),t.stroke(),t.rect(20,20,80,100),t.fill()},n([c(cc.Graphics)],e.prototype,"graphics",void 0),e=n([a],e)}(cc.Component);r.default=s,cc._RF.pop()},{}],SceneTest:[function(t,e,r){"use strict";cc._RF.push(e,"4d102k6wppNGIkjlgi8Oycw","SceneTest");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e=n([a],e)}(cc.Component));r.default=c,cc._RF.pop()},{}],SceneWelcome:[function(t,e,r){"use strict";cc._RF.push(e,"8efa3lyFNdPHJ6ND0fspcQz","SceneWelcome");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onBtnClick=function(t){var e=t.currentTarget.name;cc.director.loadScene(e)},e=n([a],e)}(cc.Component));r.default=c,cc._RF.pop()},{}],SimpleDraggable:[function(t,e,r){"use strict";cc._RF.push(e,"89871MxfkBJjJh0o236XNDC","SimpleDraggable");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._touchOffset=cc.Vec2.ZERO,e._isDragging=!1,e._moveCallback=null,e}return o(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnTouchStart.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnTouchMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.OnTouchEnd.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchEnd.bind(this))},e.prototype.Setup=function(t){this._moveCallback=t},e.prototype.OnTouchStart=function(t){var e=t.getLocation(),r=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);this._touchOffset=r.sub(e),this._isDragging=!0,this._moveCallback&&this._moveCallback(this.node.position)},e.prototype.OnTouchMove=function(t){if(this._isDragging){var e=t.getLocation();this.TraceTouchPos(e),this._moveCallback&&this._moveCallback(this.node.position)}},e.prototype.OnTouchEnd=function(t){this._isDragging&&(this._isDragging=!1)},e.prototype.TraceTouchPos=function(t){var e=t.add(this._touchOffset),r=this.node.parent.convertToNodeSpaceAR(e);this.node.position=r},e=n([a],e)}(cc.Component));r.default=c,cc._RF.pop()},{}],SpriteMaskedAvatarAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"da46czoLEBHc711TNBTITkZ","SpriteMaskedAvatarAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=t("../../../../Shader/GTAutoFitSpriteAssembler2D"),i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:"a_mask_uv",type:i.ATTR_TYPE_FLOAT32,num:2}]),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskUvOffset=4,e.floatsPerVert=6,e}return o(e,t),e.prototype.initData=function(){var t=this._renderData;t.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var e=t.iDatas[0],r=e.length/6,o=0,n=0;o<r;o++){var i=4*o;e[n++]=i,e[n++]=i+1,e[n++]=i+2,e[n++]=i+1,e[n++]=i+3,e[n++]=i+2}},e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.updateColor=function(t,e){},e.prototype.updateUVs=function(e){t.prototype.updateUVs.call(this,e);for(var r=this.maskUvOffset,o=this.floatsPerVert,n=this._renderData.vDatas[0],i=e._mask.uv,a=0;a<4;a++){var c=2*a,s=o*a+r;n[s]=i[c],n[s+1]=i[c+1]}},e}(n.default);r.default=c,cc._RF.pop()},{"../../../../Shader/GTAutoFitSpriteAssembler2D":"GTAutoFitSpriteAssembler2D"}],SpriteMaskedAvatarSprite:[function(t,e,r){"use strict";cc._RF.push(e,"4c9d8O+Ld1Ofby5UG1PB2fH","SpriteMaskedAvatarSprite");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./SpriteMaskedAvatarAssembler"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mask=null,e._enableMask=!0,e}return o(e,t),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=t,this.setVertsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableMask",{get:function(){return this._enableMask},set:function(t){this._enableMask=t;var e=this.getMaterial(0);e&&e.setProperty("enableMask",t?1:0)},enumerable:!1,configurable:!0}),e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new i.default).init(this);var t=this._mask,e=this.getMaterial(0);e&&t&&(e.setProperty("mask",t.getTexture()),e.setProperty("enableMask",this._enableMask?1:0))},e.prototype._validateRender=function(){t.prototype._validateRender.call(this);var e=this._mask;e&&e.textureLoaded()||this.disableRender()},n([s(cc.SpriteFrame)],e.prototype,"mask",null),n([s(cc.SpriteFrame)],e.prototype,"_mask",void 0),n([s(cc.Boolean)],e.prototype,"enableMask",null),n([s(cc.Boolean)],e.prototype,"_enableMask",void 0),e=n([c],e)}(cc.Sprite);r.default=p,cc._RF.pop()},{"./SpriteMaskedAvatarAssembler":"SpriteMaskedAvatarAssembler"}]},{},["SceneTestGraphics","SceneSpriteMaskedAvatars","AvatarAssembler","AvatarSprite","EqualScalingAssembler","EqualScalingSprite","SpriteMaskedAvatarAssembler","SpriteMaskedAvatarSprite","MovingBGAssembler","MovingBGSprite","LayeredBatchingAssembler","LayeredBatchingRootRenderer","SceneLayeredBatchingScrollView","SceneMetaBalls","MetaBallsAssembler","MetaBallsRenderer","SceneParticlesBatching","SDF","SceneSDF","NavigatorButton","SimpleDraggable","SceneTest","SceneWelcome","GTAssembler2D","GTAutoFitSpriteAssembler2D","GTSimpleSpriteAssembler2D"]);